<!DOCTYPE HTML>
<html lang="es">
<head>
    <meta charset="UTF-8" />
    <meta name="author" content="Ángela Nistal Guerrero"/>
    <meta name="description" content="información sobre el circuito"/>
    <meta name="keywords" content="circuito,balaton park"/>
    <meta name="viewport" content="width=device-width,initial-scale=1.0"/>
    <title>MotoGP-Circuito</title>
    <link rel="stylesheet" type="text/css" href="estilo/estilo.css" />
    <link rel="stylesheet" type="text/css" href="estilo/layout.css">
    <link rel="icon" href="multimedia/favicon.ico" />
    <script src="js/circuito.js"></script>
    <script async defer src="https://maps.googleapis.com/maps/api/js?key=AIzaSyBtvEoRi7QURnHs1BPZiJ4VU94lVNAsQDo&callback=initMap"></script>
</head>

<body>
    <header>
        <h1><a href="index.html">MotoGP Desktop</a></h1>
        <nav>
          <a href="index.html" title="Inicio">Inicio</a>
          <a href="piloto.html" title="Información del piloto">Piloto</a>
          <a class="active" href="circuito.html" title="Información del circuito">Circuito</a>
          <a href="meteorologia.html" title="Información de la meteorologia">Meteorologia</a>
          <a href="clasificaciones.php" title="Información de las clasificaciones">Clasificaciones</a>
          <a href="juegos.html" title="Información de los juegos">Juegos</a>
          <a href="ayuda.html" title="Información de ayuda">Ayuda</a>
        </nav>
      </header> 
    <nav>
      <p>Estás en: <a href="index.html">Inicio</a> >> <strong>Circuito</strong></p>
    </nav>  
    
    <main>
        <h2>Circuito de MotoGP-Desktop</h2>
      
        <label for="entradaHTML">Cargar InfoCircuito</label>
        <input type="file" id="entradaHTML" accept=".html">
        
        <label for="entradaSVG">Cargar altimetría SVG</label>
        <input type="file" id="entradaSVG" accept=".svg">

        <label for="entradaKML">Cargar circuito KML</label>
        <input type="file" id="entradaKML" accept=".kml">

        <!-- Bloque anónimo para el mapa (Permitido)-->
        <div></div>

        
      </main>      
      <script>
        const inputs = document.querySelectorAll("input[type='file']");
        const inputHTML = inputs[0];
        const inputKML  = inputs[2];

        const circuito = new Circuito();
        inputHTML.addEventListener("change", e => circuito.leerArchivoHTML(e.target.files));
        const cargador = new CargadorSVG();
        let mapa;
        window.initMap = function() {
        const contenedor = document.querySelector("main > div");
        mapa = new google.maps.Map(contenedor, {
          center: { lat: 50.683, lng: 20.317 },
          zoom: 4
        });

        const cargadorKML = new CargadorKML(mapa);
        inputKML.addEventListener("change", e => cargadorKML.leerArchivoKML(e));
      };
      </script>
    
</body>
</html>